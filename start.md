# Start

Start the app!

That could be multiple paragraphs long

```ts
import { serveFile, serveDir } from 'jsr:@std/http';
import { join } from 'jsr:@std/path';
```

## Serve API
```ts
import api from 'api'
Object.assign(input, await api.process(input));
```

## Serve Img
- route: /img/*
- ```ts
    const imgPath = $p.get(input, '/route/pathname/input')
    input.response = await serveFile(input.request, Deno.cwd()+imgPath)
    ```

## Serve Js
- route: /scripts/*
- ```ts
    const jsPath = $p.get(input, '/route/pathname/input')
    input.response = await serveFile(input.request, Deno.cwd()+'/.pd'+jsPath)
    ```

## Serve Md
- route: /md/:format/:name
- ```ts
    import serveMarkdown from 'serveMarkdown'
    $p.get(input, '/route/pathname/groups')
    Object.assign(input, await serveMarkdown.process($p.get(input, '/route/pathname/groups')))
    ```

## Serve Page
Seems Deno Deploy is pretty slow when it comes to file system reads. Could this be a draw back of edge hosting? Not a particularly challenging thing to overcome, however, just need to generate more HTML in the deployment script. So [[pages]] has been repurposed to delegate all page building tasks.
- route: /*
- ```ts
    if(!input.response && !Object.keys(input.body).length){
        const likelyHtmlPath = $p.get(input, '/route/pathname/groups/0')
        console.log(join(Deno.cwd(), '/pages/html/processed', likelyHtmlPath, '.html'))
        input.response = input.response = await serveFile(input.request, join(Deno.cwd(), '/pages/html/processed', likelyHtmlPath+'.html'))
        if(input.response.status === 404){
            input.response = input.response = await serveFile(input.request, join(Deno.cwd(), '/pages/html/processed/index.html'))
        }
    }
    ```


[//begin]: # "Autogenerated link references for markdown compatibility"
[pages]: pages/pages.md "Pages"
[//end]: # "Autogenerated link references"


[//begin]: # "Autogenerated link references for markdown compatibility"
[pages]: pages/pages.md "Pages"
[//end]: # "Autogenerated link references"