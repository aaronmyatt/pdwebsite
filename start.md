# Start

Start the app!

That could be multiple paragraphs long

```ts
import { serveFile, serveDir } from 'jsr:@std/http';
import { join } from 'jsr:@std/path';
```

## Serve API
```ts
import api from 'api'
Object.assign(input, await api.process(input));
```
## Serve Md
- route: /md/:format/:name
- ```ts
    import serveMarkdown from 'serveMarkdown'
    $p.get(input, '/route/pathname/groups')
    Object.assign(input, await serveMarkdown.process($p.get(input, '/route/pathname/groups')))
    ```

## Serve Static
Seems Deno Deploy is pretty slow when it comes to file system reads. Could this be a draw back of edge hosting? Not a particularly challenging thing to overcome, however, just need to generate more HTML in the deployment script. So [[pages]] has been repurposed to delegate all page building tasks.
- route: /*
- ```ts
    if(input.response || Object.keys(input.body).length) return

    const likelyHtmlPath = $p.get(input, '/route/pathname/groups/0')
    // try html first so we don't need to serve pages with the .html extension
    input.response = input.response = await serveFile(input.request, join(Deno.cwd(), 'public', likelyHtmlPath+'.html'))

    if(input.response.status === 404){
        // try something that's not html
        input.response = input.response = await serveFile(input.request, join(Deno.cwd(), 'public', likelyHtmlPath))
    }

    if(input.response.status === 404){
        // punt them to home
        input.response = input.response = await serveFile(input.request, join(Deno.cwd(), 'public', 'index.html'))
    }
    ```


[//begin]: # "Autogenerated link references for markdown compatibility"
[pages]: pages/pages.md "Pages"
[//end]: # "Autogenerated link references"


[//begin]: # "Autogenerated link references for markdown compatibility"
[pages]: pages/pages.md "Pages"
[//end]: # "Autogenerated link references"